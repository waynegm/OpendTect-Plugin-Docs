<!DOCTYPE html>
<html>
  <head>
    <title>Vector Filter</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <!-- Bootstrap -->
    <link href="//netdna.bootstrapcdn.com/bootswatch/3.3.6/flatly/bootstrap.min.css" rel="stylesheet" media="screen">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- mathjax for asciimath -->
   
    <link href="/OpendTect-Plugin-Docs/css/site.css" rel="stylesheet" media="screen">
    <link href="/OpendTect-Plugin-Docs/css/syntax.css" rel="stylesheet" media="screen">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-62607269-1', 'auto');
  ga('send', 'pageview');

</script>
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
            tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
        });
    </script>
   <link rel="stylesheet" href="https://cdn.knightlab.com/libs/juxtapose/latest/css/juxtapose.css">
  </head>

  <body>

    <!-- Fixed navbar -->
    <div class="navbar navbar-default navbar-fixed-top">
      <div class="container-fluid">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/OpendTect-Plugin-Docs/">OpendTect Plugins</a>
        </div>
        <div class="navbar-collapse collapse">

          <ul class="nav navbar-nav navbar-left">
            <li class="dropdown">
              <a href="/OpendTect-Plugin-Docs/installation/" class="dropdown-toggle" data-toggle="dropdown">Installation <b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a href="/OpendTect-Plugin-Docs/installation/download-binary.html">Download Binary Distribution</a></li>
                <li><a href="/OpendTect-Plugin-Docs/installation/installation.html">Installation</a></li>
                <li><a href="/OpendTect-Plugin-Docs/installation/building-from-source.html">Building from Source</a></li>
                <li><a href="/OpendTect-Plugin-Docs/installation/faq.html">Frequently Asked Questions</a></li>
              </ul>
            </li>
            <li class="dropdown">
              <a href="/OpendTect-Plugin-Docs/plugins/" class="dropdown-toggle" data-toggle="dropdown">Plugins <b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a href="/OpendTect-Plugin-Docs/plugins/AVOAttrib.html">AVOAttrib - AVO Attributes</a></li>
                <li><a href="/OpendTect-Plugin-Docs/plugins/ExternalAttrib.html">ExternalAttrib - External Attribute</a></li>
                <li><a href="/OpendTect-Plugin-Docs/plugins/GradientAttrib.html">GradientAttrib - Gradients</a></li>
                <li><a href="/OpendTect-Plugin-Docs/plugins/LTFAttrib.html">LTFAttrib - Spectral Decomposition by Local Attributes</a></li>
                <li><a href="/OpendTect-Plugin-Docs/plugins/MLVFilter.html">MLVFilterAttrib - Mean of Least Variance Filter</a></li>
                <li><a href="/OpendTect-Plugin-Docs/plugins/RSpecAttrib.html">RSpecAttrib - Recursive Spectral Decomposition</a></li>
              </ul>
            </li>
            <li class="active" class="dropdown">
              <a href="/OpendTect-Plugin-Docs/external_attributes/" class="dropdown-toggle" data-toggle="dropdown">External Attributes <b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a href="/OpendTect-Plugin-Docs/external_attributes/AVO_IG.html">AVO Intercept and Gradient</a></li>
                <li><a href="/OpendTect-Plugin-Docs/external_attributes/Add_Noise.html">Add Noise</a></li>
                <li><a href="/OpendTect-Plugin-Docs/external_attributes/DipandAzimuth.html">Dip and Azimuth</a></li>
                <li><a href="/OpendTect-Plugin-Docs/external_attributes/LPA_Smooth.html">LPA Smoothing</a></li>
                <li><a href="/OpendTect-Plugin-Docs/external_attributes/Spatial_Filter_Circular.html">Spatial Filter - Circular</a></li>
                <li><a href="/OpendTect-Plugin-Docs/external_attributes/Spatial_Filter_Rectangular.html">Spatial Filter - Rectangular</a></li>
                <li><a href="/OpendTect-Plugin-Docs/external_attributes/Z_Delay_Est.html">Time Delay Estimation</a></li>
                <li><a href="/OpendTect-Plugin-Docs/external_attributes/Vector_Filters.html">Vector Filter</a></li>
                <li><a href="/OpendTect-Plugin-Docs/external_attributes/ZC_Block.html">ZC Block</a></li>
              </ul>
            </li>
            <li><a href="/OpendTect-Plugin-Docs/articles/">Articles</a></li>
          </ul>

          <form class="navbar-form navbar-left" action="/search.html" role="search">
            <div class="form-group">
              <input type="text" required name="q" id="tipue_search_input" class="form-control" placeholder="Search"> 
            </div>
          </form>

          <ul class="nav navbar-nav navbar-right">
            <li><a href="https://github.com/waynegm/OpendTect-Plugins"><i class="fa fa-github fa-lg" title="OpendTect Plugins on Github"></i></a></li>
            <li><a href="https://www.linkedin.com/in/waynemogg"><i class="fa fa-linkedin fa-lg" title="My LinkedIn"></i></a></li>
          </ul>

        </div><!--/.nav-collapse -->
      </div>
    </div>


<div class="container-fluid">

  <ol class="breadcrumb">
    <li><a href="/OpendTect-Plugin-Docs/">Home</a></li>
      <li><a href="/OpendTect-Plugin-Docs/external_attributes/">External Attributes</a></li>
      <li class="active">Vector Filter</li>
  </ol>

  <div class="page-header">
    <h1>Vector Filter</h1>
  </div>

  <div class="row">

    <div class="col-md-9 content" role="main">
    <main>
      <p><strong>Script: ex_vector_filter_dip.py</strong></p>
<h3 id="description">Description</h3>
<p>This <a href="/OpendTect-Plugin-Docs/plugins/ExternalAttrib.html" title="ExternalAttrib - External Attribute">ExternalAttrib - External Attribute</a> script can be used to apply a vector filter to orientation ( inline and crossline dip) data. The script offers a choice of mean vector, L1 vector median and L2 vector median filters.</p>
<p>Initially the inline and crossline dip data are converted to a normal vector to the local orientation: $ [x_i, y_i, z_i] $. </p>
<p>The Mean Vector Filter averages each of the vector components of the orientation normal vectors in the analysis cube:
$$
\Big[x_f, y_f, z_f\Big]  = \frac{1}{N} \Big[\sum\limits_{i}^N x_i, \sum\limits_{i}^N y_i, \sum\limits_{i}^N z_i\Big]
$$</p>
<p>The L1 vector filter finds the normal vector in the analysis cube whose sum of absolute distance from all the others is a minimum:
$$
\Big[x_f, y_f, z_f\Big] = argmin \sum\limits_{i}^N \Big[|x_f-x_i| + |y_f-y_i| + |z_f-z_i|\Big]
$$</p>
<p>The L2 vector filter finds the normal vector in the analysis cube whose sum of squared distance from all the others is a minimum:
$$
\Big[x_f, y_f, z_f\Big] = argmin \sum\limits_{i}^N \Big[(x_f-x_i)^2 + (y_f-y_i)^2 + (z_f-z_i)^2\Big]
$$</p>
<p>The filtered orientation can be output as any of the following:
<table class="table table-striped table-bordered table-responsive">
    <thead class="bg-primary">
        <tr>
            <th class="col-xs-4">OUTPUT</th>
            <th class="col-xs-8">DESCRIPTION</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>Inline Dip</td>
            <td>Event dip observed on a crossline in microseconds per metre for time surveys and millimetres per metre for depth surveys. Output can be positive or negative with the convention that events dipping towards larger inline numbers producing positive dips.</td>
        </tr>
        <tr>
            <td>Crossline Dip</td>
            <td>Event dip observed on an inline in microseconds per metre for time surveys and millimetres per metre for depth surveys. Output can be positive or negative with the convention that events dipping towards larger crossline numbers producing positive dips.</td>
        </tr>
        <tr>
            <td>True Dip</td>
            <td>Event dip in microseconds per metre for time surveys and millimetres per metre for depth surveys. Output is always positive.</td>
        </tr>
        <tr>
            <td>Dip Azimuth</td>
            <td>Azimuth of the True Dip direction relative to the survey orientation. Output ranges from -180 to 180 degrees. Positive azimuth is defined from the inline in the direction of increasing crossline numbers. Azimuth = 0 indicates that the dip is dipping in the direction of increasing crossline numbers. Azimuth = 90 indicates that the dip is dipping in the direction of increasing inline numbers.</td>
        </tr>
    </tbody>
</table></p>
<p>The script requires the Numba Python package.</p>
<h3 id="examples">Examples</h3>
<p><figure>
  <br/>
  <img src="images/ex_phase_dip.jpg" class="img-responsive center-block" alt="Unfiltered phase dip - crossline dip on an inline">
  <figcaption class="text-center">Unfiltered phase dip - crossline dip on an inline</figcaption>
  <br/>
</figure></p>
<figure>
  <br/>
  <img src="images/ex_vfmean_phase_dip.jpg" class="img-responsive center-block" alt="Mean vector filtered phase dip - 3x3x3 (Stepout and ZWindow of 1)">
  <figcaption class="text-center">Mean vector filtered phase dip - 3x3x3 (Stepout and ZWindow of 1)</figcaption>
  <br/>
</figure>

<figure>
  <br/>
  <img src="images/ex_vfl1_phase_dip.jpg" class="img-responsive center-block" alt="L1 vector median filtered phase dip - 3x3x3 (Stepout and ZWindow of 1)">
  <figcaption class="text-center">L1 vector median filtered phase dip - 3x3x3 (Stepout and ZWindow of 1)</figcaption>
  <br/>
</figure>

<figure>
  <br/>
  <img src="images/ex_vfl2_phase_dip.jpg" class="img-responsive center-block" alt="L2 vector median filtered phase dip - 3x3x3 (Stepout and ZWindow of 1)">
  <figcaption class="text-center">L2 vector median filtered phase dip - 3x3x3 (Stepout and ZWindow of 1)</figcaption>
  <br/>
</figure>

<h3 id="input-parameters">Input Parameters</h3>
<p><figure>
  <br/>
  <img src="images/ex_vector_filter_dip_input.jpg" class="img-responsive center-block" alt="ex_vector_filter_dip.py input parameters">
  <figcaption class="text-center">ex_vector_filter_dip.py input parameters</figcaption>
  <br/>
</figure></p>
<table class="table table-striped table-bordered table-responsive">
    <thead class="bg-primary">
        <tr>
            <th class="col-xs-4">NAME</th>
            <th class="col-xs-8">DESCRIPTION</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>Output</td>
            <td>What to calculate - choice of inline dip, crossline dip, true dip or dip azimuth.</td>
        </tr>
        <tr>
            <td>Z window (+/-samples)</td>
            <td>Specifies the extent of the analysis cube in the Z direction. Number of Z samples in cube will be $ 2*Zwindow+1 $.</td>
        </tr>
        <tr>
            <td>Stepout</td>
            <td>Specifies the inline and crossline extent of the analysis cube. Number of samples in each direction will be $ 2*Stepout+1 $.</td>
        </tr>
        <tr>
            <td>Filter</td>
            <td>Choice of Mean Dip, L1 Vector Median or L2 Vector Median.</td>
        </tr>
    </tbody>
</table>
    </main>
    <ul class="pager">
    </ul>
    </div>

    <div class="col-md-3" role="complementary">
      <nav class="hidden-print hidden-xs hidden-sm">
        <div class="sidebar" data-spy="affix" data-offset-top="80" data-offset-bottom="60">
          <div class="well">
            <a href="#"><strong>Vector Filter</strong></a>
            <div class="toc">
<ul>
<li><a href="#description">Description</a></li>
<li><a href="#examples">Examples</a></li>
<li><a href="#input-parameters">Input Parameters</a></li>
</ul>
</div>

          </div>
        </div>
      </nav>
    </div>

  </div>
</div>

<div class="container-fluid">
    <div class="row">
        <div class="footer">
            <hr>
            <p>All content and images &copy; 2015 by Wayne Mogg</p>
            <p>Website powered by <a href="http://urubu.jandecaluwe.com">Urubu</a></p>
        </div>
    </div>
</div>



    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <!-- <script src="https://code.jquery.com/jquery.js"></script> -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
 
    <script src="https://cdn.knightlab.com/libs/juxtapose/latest/js/juxtapose.min.js"></script>
    <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-AMS_CHTML">
    </script>
   </body>
</html>
